# Fix File Lock Timeout Issues

## Why
文件锁机制偶尔导致操作失败，主要原因是30秒固定超时过长和简单的重试策略。当前实现在资源竞争时容易超时，影响用户体验。

## What Changes
- **减少默认超时**: 从30秒改为5秒，提高响应性
- **改进重试策略**: 使用指数退避替代固定间隔重试
- **增强错误处理**: 更好识别和处理临时性锁冲突
- **优化锁清理**: 改进僵尸锁检测和清理机制

## Impact
- **Affected specs**: file-operations
- **Affected code**: `src/core/file_lock.py`
- **Performance**: 锁获取时间从30秒降至5秒内
- **Reliability**: 减少因超时导致的操作失败

## Status
✅ **COMPLETED** - 2025-10-25

### 完成的改进
- 默认超时从30秒减少到5秒
- 实现了指数退避重试策略
- 改进了僵尸锁检测（默认过期时间从30秒减少到10秒）
- 增强了锁清理的异常处理
- 10个测试全部通过，包括并发测试
- 保持了完全的向后兼容性