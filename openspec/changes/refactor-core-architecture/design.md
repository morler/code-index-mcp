## Context
当前项目违反了Linus式设计原则：存在重复的核心模块、单文件超过1000行、40+个重复测试文件。需要回归到"Good Taste"架构。

## Goals / Non-Goals
- Goals: 统一数据结构、消除特殊情况、<200行文件、<3层缩进
- Non-Goals: 保持向后兼容性、保留所有现有功能、渐进式重构

## Decisions
- Decision: 删除重复模块，统一到 `src/core/`
  - Why: 消除数据冗余，简化维护
  - Alternatives: 保留两套系统 (复杂度翻倍)、合并到新目录 (破坏性更大)
- Decision: 拆分大文件而非重构
  - Why: 保持现有逻辑，仅改善可维护性
  - Alternatives: 完全重写 (风险高)、保持现状 (不可接受)

## Risks / Trade-offs
- 破坏性变更 → 需要更新所有导入
- 功能回归风险 → 全面测试覆盖
- 开发时间成本 → 长期维护收益

## Migration Plan
1. 备份当前代码
2. 逐步删除重复模块
3. 批量更新导入
4. 测试验证每个步骤
5. 回滚点检查

## Open Questions
- 是否需要保留向后兼容的API包装器？
- 测试覆盖率目标应该是多少？
- 性能基准线如何设定？